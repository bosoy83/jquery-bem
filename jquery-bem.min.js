/*!
 * jQuery BEM v0.6.0, https://github.com/hoho/jquery-bem
 * Copyright 2012-2013 Marat Abdullin
 * Released under the MIT license
 */(function(e,t){var n="(?:b-|l-)",r="__",i="_",s="[\\x20\\t\\r\\n\\f]",o="(?:[a-zA-Z0-9-]|[^\\x00-\\xa0])+",u="([*^$|!]?=)",a="\\{"+s+"*("+o+")"+s+"*(?:"+u+s+"*("+o+"))?"+s+"*\\}",f="m",l="c",c="b",h=RegExp,p=new h(s,"g"),d="prototype",v=Array[d].slice,m=e.fn,g="",y=",",b="__bem",w="bemMod",E="bemCall",S,x=e.expr.match,T=e.expr.filter,N={},C={},k=function(e){return typeof e=="object"},L=function(e,t,n,r){this._d=e,this._k=t,this._c=t+(n?i+n+(r?i+r:g):g)},A=function(e,t,n,s,o){o=this,o._b=e,o._d=e._d,o._c=(o._k=e._k+r+t)+(n?i+n+(s?i+s:g):g)},O=function(e,n){return(n=e&&e.className)?k(n)?n.baseVal:n||e.getAttribute!==t&&e.getAttribute("class")||g:g},M=function(e,t,u){return new h("(?:^|"+s+")("+(e||n+o)+")(?:"+r+"("+(t||o)+"))?(?:"+i+"("+(u||o)+")(?:"+i+"("+o+"))?)?(?:"+s+"|$)","g")},_=function(t,n,r,i,s,o,u,a){return a=this,(s=N[a._k])||(N[a._k]=s=[]),o=n+y+r+y,u=o+a._c,o+=a._k,t&&o in C&&e.error("Redeclaration in "+a._c),!t&&!(o in C)&&e.error("Not declared "+a._c),C[o]=!0,s.push({k:u,c:i,d:t}),a},D=function(e,t,n){n=this,n.$=t,n[w]=function(r,i,s){return t[w]({block:e,mod:r},i,s),n},n[E]=function(n){var r=v.call(arguments,1);return r.unshift({block:e,call:n}),t[E].apply(t,r)}},P=function(e,t,n,r,i,s,o){return r=n.length-1,e&&(i=t,(t=t.data(b))||i.data(b,t={}),t[e]||(t[e]=new D(e,i)),t=t[e]),function u(){if(r>=0)return s=v.call(arguments),o=n[r--],o.d||s.unshift(u),o.c.apply(t,s)}},H=function(e,t,n,i,s,o,u){return o={},e.replace(p,"  ").replace(M(t,n,i),function(e,i,u,a,f){!t&&!n&&s&&(t=i,n=u),e=i+(u?r+u:g),o[e]||(o[e]={}),a&&(o[e][a]=f||!0)}),t&&(t+=n?r+n:g,o[t]?(u={},u[t]=o[t],o=u):o={}),o},B=function(e,t,n,r){var s={},o,u,a,f,l=[];s[a=e+y+t+y+n]=!0,a+=i;for(o in r)s[u=a+o]=!0,(f=r[o])&&f!==!0&&(s[u+i+f]=!0);r=N[n];if(r)for(o=0;o<r.length;o++)u=r[o],u.k in s&&l.push(u);return l};T.ELEM=function(e,t){e==="*"&&(e=n+o),t==="*"&&(t=o);var i=new h("(?:^|"+s+"+)"+e+r+t+"(?:"+s+"+|$)");return function(e){return i.test(O(e))}},T.BLOCK=function(e){e==="*"&&(e=n+o);var t=new h("(?:^|"+s+"+)"+e+"(?:"+s+"+|$)");return function(e){return t.test(O(e))}},T.MOD=function(e,t,u){var a=new h("(?:^|"+s+"+)"+n+o+"(?:"+r+o+")?"+i+e+"(?:"+i+"("+o+"))?(?:"+s+"+|$)");return function(e){var n=O(e).match(a),r;return n?(r=n[1]||g,t==="="?r===u:t==="!="?r!==u:t==="^="?u&&r.indexOf(u)===0:t==="*="?u&&r.indexOf(u)>-1:t==="$="?u&&r.substr(r.length-u.length)===u:t==="|="?r===u||r.substr(0,u.length+1)===u+"-":!u):!1}},L[d]=S={onBuild:function(e){return _.call(this,this._d,c,c,e)},onMod:function(e,t){return _.call(this,this._d,f,e,t)},onCall:function(e,t){return _.call(this,this._d,l,e,t)},elem:function(e,t,n){return new A(this,e,t,n)}},A[d]={onBuild:S.onBuild,onMod:S.onMod,onCall:S.onCall,end:function(){return this._b}},e.BEM={decl:function(e,t,n){return new L(!0,e,t,n)},extend:function(e,t,n){return new L(!1,e,t,n)},build:function(e){var n=v.call(arguments,1),i,s,o={};return k(e)?(s=e.context,o.block=e.block,i=e.mods,i&&(o.mods=i),e.elem?(o.elem=e.elem,e=e.block+r+e.elem):e=e.block):o.block=e,n.unshift(o),P(t,s,B(c,c,e,i||{})).apply(this,n)},setup:function(e){e&&e.prefixes&&(n=e.prefixes),x.BLOCK=new h("^%("+n+o+"|\\*)"),x.ELEM=new h("^%("+n+o+"|\\*)\\("+s+"*("+o+"|\\*)"+s+"*\\)"),x.MOD=new h("^"+a)},className:function(e){if(!e)return g;var t=[],n,s,o,u;if(n=e.block){e.elem&&(n+=r+e.elem),t.push(n);if(s=e.mods)for(o in s)(u=s[o])&&t.push(n+i+o+(u===!0?g:i+u))}return t.join(" ")}},e.BEM.setup(),m[E]=function(e){var n,r,i=v.call(arguments,1),s=this.eq(0),o,u;if(k(e)){if(n=e.block)r=e.elem;e=e.call}if(e){e+=g,o=H(O(s[0]),n,r,t,!0);for(u in o)return P(u,s,B(l,e,u,o[u])).apply(this,i)}},m[w]=function(n,r,s){var o,u,a,l,c=this;if(k(n)){if(o=n.block)u=n.elem;n=n.mod}n||e.error("No modifier");if(r===t){a=H(O(c[0]),o,u,n,!0);for(l in a){a=a[l];for(l in a)return a[l];break}return t}return typeof r=="boolean"&&(r=r?!0:g),c.each(function(){var a=H(O(this),o,u),c,h,p,d,v=e(this);for(l in a){p=a[l],d=t;for(h in p)h===n&&(d=p[h]);if(!s&&(!d&&!r||d===r))return;c=B(f,n,l,p),h=l+i+n,d&&v.removeClass(h+(d===!0?g:i+d)),r&&v.addClass(h+(r===!0?g:i+r)),P(l,v,c)(n,r||t,d)}}),c}})($);