/*!
 * jQuery BEM v0.2.3, https://github.com/hoho/jquery-bem
 * Copyright 2012-2013 Marat Abdullin
 * Released under the MIT license
 */(function(e,t){var n="(?:b-|l-)",r="__",i="_",s="[\\x20\\t\\r\\n\\f]",o="(?:[a-zA-Z0-9-]|[^\\x00-\\xa0])+",u="([*^$|!]?=)",a="\\{"+s+"*("+o+")"+s+"*(?:"+u+s+"*("+o+"))?"+s+"*\\}",f="m",l="c",c="b",h=RegExp,p=new h(s,"g"),d="prototype",v=Array[d].slice,m=e.fn,g="",y=",",b,w=e.expr.match,E=e.expr.filter,S={},x=function(e){return typeof e=="object"},T=function(e,t,n){this._k=e,this._c=e+(t?i+t+(n?i+n:g):g)},N=function(e,t,n,s){this._b=e,this._c=(this._k=e._k+r+t)+(n?i+n+(s?i+s:g):g)},C=function(e,n){return(n=e&&e.className)?x(n)?n.baseVal:n||e.getAttribute!==t&&e.getAttribute("class")||g:g},k=function(e,t,u){return new h("(?:^|"+s+")("+(e||n+o)+")(?:"+r+"("+(t||o)+"))?(?:"+i+"("+(u||o)+")(?:"+i+"("+o+"))?)?(?:"+s+"|$)","g")},L=function(e,t,n,r,i,s){s=this,(r=S[s._k])||(S[s._k]=r=[]);if(x(t))for(i in t)r.push([e+y+i+y+s._c,t[i]]);else r.push([e+y+t+y+s._c,n]);return s},A=function(e,t,n){return n=t.length-1,function r(){if(n>=0){var i=v.call(arguments);return i.unshift(r),t[n--].apply(e,i)}}},O=function(e,t,n,i,s,o,u){return o={},e.replace(p,"  ").replace(k(t,n,i),function(e,i,u,a,f){!t&&!n&&s&&(t=i,n=u),e=i+(u?r+u:g),o[e]||(o[e]=[]),a&&o[e].push({mod:a,val:f||!0})}),t&&(t+=n?r+n:g,o[t]?(u={},u[t]=o[t],o=u):o={}),o},M=function(e,t,n,r){var s={},o,u,a,f=[];s[a=e+y+t+y+n]=!0,a+=i;for(o=0;o<r.length;o++)s[u=a+r[o].mod]=!0,s[u+i+r[o].val]=!0;r=S[n];if(r)for(o=0;o<r.length;o++)u=r[o],u[0]in s&&f.push(u[1]);return f};E.ELEM=function(e,t){e==="*"&&(e=n+o),t==="*"&&(t=o);var i=new h("(?:^|"+s+"+)"+e+r+t+"(?:"+s+"+|$)");return function(e){return i.test(C(e))}},E.BLOCK=function(e){e==="*"&&(e=n+o);var t=new h("(?:^|"+s+"+)"+e+"(?:"+s+"+|$)");return function(e){return t.test(C(e))}},E.MOD=function(e,t,u){var a=new h("(?:^|"+s+"+)"+n+o+"(?:"+r+o+")?"+i+e+"(?:"+i+"("+o+"))?(?:"+s+"+|$)");return function(e){var n=C(e).match(a),r;return n?(r=n[1]||g,t==="="?r===u:t==="!="?r!==u:t==="^="?u&&r.indexOf(u)===0:t==="*="?u&&r.indexOf(u)>-1:t==="$="?u&&r.substr(r.length-u.length)===u:t==="|="?r===u||r.substr(0,u.length+1)===u+"-":!u):!1}},T[d]=b={onBuild:function(e){return L.call(this,c,c,e)},onMod:function(e,t){return L.call(this,f,e,t)},onCall:function(e,t){return L.call(this,l,e,t)},elem:function(e,t,n){return new N(this,e,t,n)}},N[d]={onMod:b.onMod,onCall:b.onCall,end:function(){return this._b}},e.BEM={decl:function(e,t,n){return new T(e,t,n)},build:function(e){var t=v.call(arguments,1),n,r;return x(e)&&(n=e.mods,r=e.context,e=e.block),A(r,M(c,c,e,n||[])).apply(this,t)},setup:function(e){e&&e.prefixes&&(n=e.prefixes),w.BLOCK=new h("^%("+n+o+"|\\*)"),w.ELEM=new h("^%("+n+o+"|\\*)\\("+s+"*("+o+"|\\*)"+s+"*\\)"),w.MOD=new h("^"+a)}},e.BEM.setup(),m.bemCall=function(e){var n,r,i=v.call(arguments,1),s=this.eq(0),o,u;if(x(e)){if(n=e.block)r=e.elem;e=e.call}if(e){e+=g,o=O(C(s[0]),n,r,t,!0);for(u in o)return A(s,M(l,e,u,o[u])).apply(this,i)}},m.bemMod=function(n,r){var s,o,u,a,l=this;if(x(n)){if(s=n.block)o=n.elem;n=n.mod}if(!n){e.error("No modifier");return}if(r===t){u=O(C(l[0]),s,o,n,!0);for(a in u)return u=u[a][0],u?u.val||!0:t;return t}return typeof r=="boolean"&&(r=r?!0:g),l.each(function(){var u=O(C(this),s,o),l,c,h,p,d=e(this);for(a in u){h=u[a],p=t;for(c=0;c<h.length;c++)h[c].mod===n&&(p=h[c].val);if(!p&&!r||p===r)return;l=M(f,n,a,h),c=a+i+n,p&&d.removeClass(c+(p===!0?g:i+p)),r&&d.addClass(c+(r===!0?g:i+r)),A(d,l)(n,r?r:t,p)}}),l}})($);