/*!
 * jQuery BEM v0.5.0, https://github.com/hoho/jquery-bem
 * Copyright 2012-2013 Marat Abdullin
 * Released under the MIT license
 */(function(e,t){var n="(?:b-|l-)",r="__",i="_",s="[\\x20\\t\\r\\n\\f]",o="(?:[a-zA-Z0-9-]|[^\\x00-\\xa0])+",u="([*^$|!]?=)",a="\\{"+s+"*("+o+")"+s+"*(?:"+u+s+"*("+o+"))?"+s+"*\\}",f="m",l="c",c="b",h=RegExp,p=new h(s,"g"),d="prototype",v=Array[d].slice,m=e.fn,g="",y=",",b,w=e.expr.match,E=e.expr.filter,S={},x={},T=function(e){return typeof e=="object"},N=function(e,t,n,r){this._d=e,this._k=t,this._c=t+(n?i+n+(r?i+r:g):g)},C=function(e,t,n,s,o){o=this,o._b=e,o._d=e._d,o._c=(o._k=e._k+r+t)+(n?i+n+(s?i+s:g):g)},k=function(e,n){return(n=e&&e.className)?T(n)?n.baseVal:n||e.getAttribute!==t&&e.getAttribute("class")||g:g},L=function(e,t,u){return new h("(?:^|"+s+")("+(e||n+o)+")(?:"+r+"("+(t||o)+"))?(?:"+i+"("+(u||o)+")(?:"+i+"("+o+"))?)?(?:"+s+"|$)","g")},A=function(t,n,r,i,s,o,u,a){return a=this,(s=S[a._k])||(S[a._k]=s=[]),o=n+y+r+y,u=o+a._c,o+=a._k,t&&o in x&&e.error("Redeclaration in "+a._c),!t&&!(o in x)&&e.error("Not declared "+a._c),x[o]=!0,s.push({k:u,c:i,d:t}),a},O=function(e,t,n,r,i){return n=t.length-1,function s(){if(n>=0)return r=v.call(arguments),i=t[n--],i.d||r.unshift(s),i.c.apply(e,r)}},M=function(e,t,n,i,s,o,u){return o={},e.replace(p,"  ").replace(L(t,n,i),function(e,i,u,a,f){!t&&!n&&s&&(t=i,n=u),e=i+(u?r+u:g),o[e]||(o[e]={}),a&&(o[e][a]=f||!0)}),t&&(t+=n?r+n:g,o[t]?(u={},u[t]=o[t],o=u):o={}),o},_=function(e,t,n,r){var s={},o,u,a,f,l=[];s[a=e+y+t+y+n]=!0,a+=i;for(o in r)s[u=a+o]=!0,(f=r[o])&&f!==!0&&(s[u+i+f]=!0);r=S[n];if(r)for(o=0;o<r.length;o++)u=r[o],u.k in s&&l.push(u);return l};E.ELEM=function(e,t){e==="*"&&(e=n+o),t==="*"&&(t=o);var i=new h("(?:^|"+s+"+)"+e+r+t+"(?:"+s+"+|$)");return function(e){return i.test(k(e))}},E.BLOCK=function(e){e==="*"&&(e=n+o);var t=new h("(?:^|"+s+"+)"+e+"(?:"+s+"+|$)");return function(e){return t.test(k(e))}},E.MOD=function(e,t,u){var a=new h("(?:^|"+s+"+)"+n+o+"(?:"+r+o+")?"+i+e+"(?:"+i+"("+o+"))?(?:"+s+"+|$)");return function(e){var n=k(e).match(a),r;return n?(r=n[1]||g,t==="="?r===u:t==="!="?r!==u:t==="^="?u&&r.indexOf(u)===0:t==="*="?u&&r.indexOf(u)>-1:t==="$="?u&&r.substr(r.length-u.length)===u:t==="|="?r===u||r.substr(0,u.length+1)===u+"-":!u):!1}},N[d]=b={onBuild:function(e){return A.call(this,this._d,c,c,e)},onMod:function(e,t){return A.call(this,this._d,f,e,t)},onCall:function(e,t){return A.call(this,this._d,l,e,t)},elem:function(e,t,n){return new C(this,e,t,n)}},C[d]={onBuild:b.onBuild,onMod:b.onMod,onCall:b.onCall,end:function(){return this._b}},e.BEM={decl:function(e,t,n){return new N(!0,e,t,n)},extend:function(e,t,n){return new N(!1,e,t,n)},build:function(e){var t=v.call(arguments,1),n,r,i={};return T(e)?(r=e.context,i.mods=n=e.mods,i.block=e=e.block):i.block=e,t.unshift(i),O(r,_(c,c,e,n||{})).apply(this,t)},setup:function(e){e&&e.prefixes&&(n=e.prefixes),w.BLOCK=new h("^%("+n+o+"|\\*)"),w.ELEM=new h("^%("+n+o+"|\\*)\\("+s+"*("+o+"|\\*)"+s+"*\\)"),w.MOD=new h("^"+a)},className:function(e){if(!e)return g;var t=[],n,r,s,o;if(n=e.block){t.push(n);if(r=e.mods)for(s in r)(o=r[s])&&t.push(n+i+s+(o===!0?g:i+o))}return t.join(" ")}},e.BEM.setup(),m.bemCall=function(e){var n,r,i=v.call(arguments,1),s=this.eq(0),o,u;if(T(e)){if(n=e.block)r=e.elem;e=e.call}if(e){e+=g,o=M(k(s[0]),n,r,t,!0);for(u in o)return O(s,_(l,e,u,o[u])).apply(this,i)}},m.bemMod=function(n,r,s){var o,u,a,l,c=this;if(T(n)){if(o=n.block)u=n.elem;n=n.mod}n||e.error("No modifier");if(r===t){a=M(k(c[0]),o,u,n,!0);for(l in a){a=a[l];for(l in a)return a[l];break}return t}return typeof r=="boolean"&&(r=r?!0:g),c.each(function(){var a=M(k(this),o,u),c,h,p,d,v=e(this);for(l in a){p=a[l],d=t;for(h in p)h===n&&(d=p[h]);if(!s&&(!d&&!r||d===r))return;c=_(f,n,l,p),h=l+i+n,d&&v.removeClass(h+(d===!0?g:i+d)),r&&v.addClass(h+(r===!0?g:i+r)),O(v,c)(n,r?r:t,d)}}),c}})($);