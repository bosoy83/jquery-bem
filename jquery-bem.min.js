/*!
 * jQuery BEM v0.1.0, https://github.com/hoho/jquery-bem
 * Copyright 2012-2013 Marat Abdullin
 * Released under the MIT license
 */(function(e,t){var n="(?:b\\-|l\\-)",r="__",i="_",s="[\\x20\\t\\r\\n\\f]",o="(?:[a-zA-Z0-9-]|[^\\x00-\\xa0])+",u="([*^$|!]?=)",a="\\{"+s+"*("+o+")"+s+"*(?:"+u+s+"*("+o+"))?"+s+"*\\}",f="undefined",l="object",c="m",h="c",p="b",d=RegExp,v=new d(s,"g"),m=Array.prototype.slice,g=e.fn,y,b=e.expr.match,w=e.expr.filter,E={},S=function(e,t,n){this._key=e,this._cbKey=e+(t?i+t+(n?i+n:""):"")},x=function(e,t,n,s){this._block=e,this._key=e._key+r+t,this._cbKey=e._key+r+t+(n?i+n+(s?i+s:""):"")},T=function(e,t){return(t=e&&e.className)?typeof t===l?t.baseVal:t||typeof e.getAttribute!==f&&e.getAttribute("class")||"":""},N=function(e,t,u){return new d("(?:^|"+s+")("+(e||n+o)+")(?:"+r+"("+(t||o)+"))?(?:"+i+"("+(u||o)+")(?:"+i+"("+o+"))?)?(?:"+s+"|$)","g")},C=function(e,t,n){var r=E[this._key];r||(E[this._key]=r=[]);if(typeof t===l)for(var i in t)r.push([e+","+i+","+this._cbKey,t[i]]);else r.push([e+","+t+","+this._cbKey,n])},k=function(e,t){var n=t.length-1;return function r(){if(n>=0){var i=m.call(arguments);return i.unshift(r),t[n--].apply(e,i)}}},L=function(e,t,n,i,s){var o={},u;return e.replace(v,"  ").replace(N(t,n,i),function(e,i,u,a,f){!t&&!n&&s&&(t=i,n=u),e=i+(u?r+u:""),o[e]||(o[e]=[]),a&&o[e].push([a,f?f:!0])}),t&&(t+=n?r+n:"",o[t]?(u={},u[t]=o[t],o=u):o={}),o},A=function(e,t,n,r){var s={},o,u,a,f=[];a=e+","+t+","+n,s[a]=!0,a+=i;for(o=0;o<r.length;o++)u=a+r[o][0],s[u]=!0,s[u+i+r[o][1]]=!0;r=E[n];if(r)for(o=0;o<r.length;o++)u=r[o],u[0]in s&&f.push(u[1]);return f},O=function(n,r,s,o,u,a,h,p){if(typeof r===l)u=r.block,u&&(a=r.elem);else if(typeof o===f){if(n||!s)o=s,s=r}else u=r;if(!s){e.error("No modifier");return}if(n)return typeof o=="boolean"&&(o=o?!0:""),this.each(function(){var n=L(T(this),u,a),r,f,l,h,d=e(this);for(p in n){l=n[p],h=t;for(f=0;f<l.length;f++)l[f][0]==s&&(h=l[f][1]);if(!h&&!o||h===o)return;r=A(c,s,p,l),f=p+i+s,h&&d.removeClass(f+(h===!0?"":i+h)),o&&d.addClass(f+(o===!0?"":i+o)),k(d,r)(s,o?o:t,h)}}),this;h=L(T(this[0]),u,a,s,!0);for(p in h)return h=h[p][0],h?h[1]||!0:null;return null};b.BLOCK=new d("^%("+n+o+"|\\*)"),b.ELEM=new d("^%("+n+o+"|\\*)\\("+s+"*("+o+"|\\*)"+s+"*\\)"),b.MOD=new d("^"+a),w.ELEM=function(e,t){e==="*"&&(e=n+o),t==="*"&&(t=o);var i=new d("(?:^|"+s+"+)"+e+r+t+"(?:"+s+"+|$)");return function(e){return i.test(T(e))}},w.BLOCK=function(e){e==="*"&&(e=n+o);var t=new d("(?:^|"+s+"+)"+e+"(?:"+s+"+|$)");return function(e){return t.test(T(e))}},w.MOD=function(e,t,u){var a=new d("(?:^|"+s+"+)"+n+o+"(?:"+r+o+")?"+i+e+"(?:"+i+"("+o+"))?(?:"+s+"+|$)");return function(e){var n=T(e).match(a),r;return n?(r=n[1]||"",t==="="?r===u:t==="!="?r!==u:t==="^="?u&&r.indexOf(u)===0:t==="*="?u&&r.indexOf(u)>-1:t==="$="?u&&r.substr(r.length-u.length)===u:t==="|="?r===u||r.substr(0,u.length+1)===u+"-":typeof u===f):!1}},S.prototype=y={onBuild:function(e){return C.call(this,p,p,e),this},onMod:function(e,t){return C.call(this,c,e,t),this},onCall:function(e,t){return C.call(this,h,e,t),this},elem:function(e,t,n){return new x(this,e,t,n)}},x.prototype={onMod:y.onMod,onCall:y.onCall,end:function(){return this._block}},e.BEM={decl:function(e,t,n){return new S(e,t,n)},build:function(e,t){var n=m.call(arguments,2),r,i;return typeof t===l&&(r=t.mods,t=t.block),i=A(p,p,t,r||[]),k(e,i).apply(this,n)}},g.bemCall=function(e){var n,r,i,s,o,u,a;if(typeof e===l){if(n=e.block)r=e.elem;e=e.call}if(!e)return;e+="",i=m.call(arguments,1),s=this.eq(0),o=L(T(s[0]),n,r,t,!0);for(a in o)return u=A(h,e,a,o[a]),k(s,u).apply(this,i)},g.bemSetMod=function(e,t,n){return O.call(this,!0,e,t,n)},g.bemGetMod=function(e,t){return O.call(this,!1,e,t)}})($);