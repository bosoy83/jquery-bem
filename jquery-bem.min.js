/*!
 * jQuery BEM v0.6.1, https://github.com/hoho/jquery-bem
 * Copyright 2012-2013 Marat Abdullin
 * Released under the MIT license
 */(function(e,t){var n="(?:b-|l-)",r="__",i="_",s="[\\x20\\t\\r\\n\\f]",o="(?:[a-zA-Z0-9-]|[^\\x00-\\xa0])+",u="([*^$|!]?=)",a="\\{"+s+"*("+o+")"+s+"*(?:"+u+s+"*("+o+"))?"+s+"*\\}",f="m",l="c",c="b",h=RegExp,p=new h(s,"g"),d="prototype",v=Array[d].slice,m=e.fn,g="",y=",",b="__bem",w="bemMod",E="bemCall",S="block",x="elem",T="call",N="apply",C,k=e.expr.match,L=e.expr.filter,A={},O={},M=function(e){return typeof e=="object"},_=function(e,t,n,r){this._d=e,this._k=t,this._c=t+(n?i+n+(r?i+r:g):g)},D=function(e,t,n,s,o){o=this,o._b=e,o._d=e._d,o._c=(o._k=e._k+r+t)+(n?i+n+(s?i+s:g):g)},P=function(e,t){return(t=e&&e.className)?M(t)?t.baseVal:t||e.getAttribute&&e.getAttribute("class")||g:g},H=function(e,t,u){return new h("(?:^|"+s+")("+(e||n+o)+")(?:"+r+"("+(t||o)+"))?(?:"+i+"("+(u||o)+")(?:"+i+"("+o+"))?)?(?:"+s+"|$)","g")},B=function(t,n,r,i,s,o,u,a){return a=this,(s=A[a._k])||(A[a._k]=s=[]),o=n+y+r+y,u=o+a._c,o+=a._k,t&&o in O&&e.error("Redeclaration in "+a._c),!t&&!(o in O)&&e.error("Not declared "+a._c),O[o]=!0,s.push({k:u,c:i,d:t}),a},j=function(e,t,n){n=this,n.$=t,n[w]=function(r,i,s){return t[w]({block:e,mod:r},i,s),n},n[E]=function(n){var r=v[T](arguments,1);return r.unshift({block:e,call:n}),t[E][N](t,r)}},F=function(e,t,n,r,i,s,o){return r=n.length-1,e&&(i=t,(t=t.data(b))||i.data(b,t={}),t[e]||(t[e]=new j(e,i)),t=t[e]),function u(){if(r>=0)return s=v[T](arguments),o=n[r--],o.d||s.unshift(u),o.c[N](t,s)}},I=function(e,t,n,i,s,o,u){return o={},e.replace(p,"  ").replace(H(t,n,i),function(e,i,u,a,f){!t&&!n&&s&&(t=i,n=u),e=i+(u?r+u:g),o[e]||(o[e]={}),a&&(o[e][a]=f||!0)}),t&&(t+=n?r+n:g,o[t]?(u={},u[t]=o[t],o=u):o={}),o},q=function(e,t,n,r){var s={},o,u,a,f,l=[];s[a=e+y+t+y+n]=!0,a+=i;for(o in r)s[u=a+o]=!0,(f=r[o])&&f!==!0&&(s[u+i+f]=!0);r=A[n];if(r)for(o=0;o<r.length;o++)u=r[o],u.k in s&&l.push(u);return l};L.ELEM=function(e,t){e==="*"&&(e=n+o),t==="*"&&(t=o);var i=new h("(?:^|"+s+"+)"+e+r+t+"(?:"+s+"+|$)");return function(e){return i.test(P(e))}},L.BLOCK=function(e){e==="*"&&(e=n+o);var t=new h("(?:^|"+s+"+)"+e+"(?:"+s+"+|$)");return function(e){return t.test(P(e))}},L.MOD=function(e,t,u){var a=new h("(?:^|"+s+"+)"+n+o+"(?:"+r+o+")?"+i+e+"(?:"+i+"("+o+"))?(?:"+s+"+|$)");return function(e){var n=P(e).match(a),r;return n?(r=n[1]||g,t==="="?r===u:t==="!="?r!==u:t==="^="?u&&r.indexOf(u)===0:t==="*="?u&&r.indexOf(u)>-1:t==="$="?u&&r.substr(r.length-u.length)===u:t==="|="?r===u||r.substr(0,u.length+1)===u+"-":!u):!1}},_[d]=C={onBuild:function(e){return B[T](this,this._d,c,c,e)},onMod:function(e,t){return B[T](this,this._d,f,e,t)},onCall:function(e,t){return B[T](this,this._d,l,e,t)},elem:function(e,t,n){return new D(this,e,t,n)}},D[d]={onBuild:C.onBuild,onMod:C.onMod,onCall:C.onCall,end:function(){return this._b}},e.BEM={decl:function(e,t,n){return new _(!0,e,t,n)},extend:function(e,t,n){return new _(!1,e,t,n)},build:function(e){var n=v[T](arguments,1),i,s,o={};return M(e)?(s=e.context,o[S]=e[S],i=e.mods,i&&(o.mods=i),e[x]?(o[x]=e[x],e=e[S]+r+e[x]):e=e[S]):o[S]=e,n.unshift(o),F(t,s,q(c,c,e,i||{}))[N](this,n)},setup:function(e){e&&e.prefixes&&(n=e.prefixes),k.BLOCK=new h("^%("+n+o+"|\\*)"),k.ELEM=new h("^%("+n+o+"|\\*)\\("+s+"*("+o+"|\\*)"+s+"*\\)"),k.MOD=new h("^"+a)},className:function(e){if(!e)return g;var t=[],n,s,o,u;if(n=e[S]){e[x]&&(n+=r+e[x]),t.push(n);if(s=e.mods)for(o in s)(u=s[o])&&t.push(n+i+o+(u===!0?g:i+u))}return t.join(" ")}},e.BEM.setup(),m[E]=function(e){var n,r,i=v[T](arguments,1),s=this.eq(0),o,u;if(M(e)){if(n=e[S])r=e[x];e=e[T]}if(e){e+=g,o=I(P(s[0]),n,r,t,!0);for(u in o)return F(u,s,q(l,e,u,o[u]))[N](this,i)}},m[w]=function(n,r,s){var o,u,a,l,c=this;if(M(n)){if(o=n[S])u=n[x];n=n.mod}n||e.error("No modifier");if(r===t){a=I(P(c[0]),o,u,n,!0);for(l in a){a=a[l];for(l in a)return a[l];break}return t}return typeof r=="boolean"&&(r=r?!0:g),c.each(function(){var a=I(P(this),o,u),c,h,p,d,v=e(this);for(l in a){p=a[l],d=t;for(h in p)h===n&&(d=p[h]);if(!s&&(!d&&!r||d===r))return;c=q(f,n,l,p),h=l+i+n,d&&v.removeClass(h+(d===!0?g:i+d)),r&&v.addClass(h+(r===!0?g:i+r)),F(l,v,c)(n,r||t,d)}}),c}})($);